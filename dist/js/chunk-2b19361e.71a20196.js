(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b19361e"],{1061:function(e,t,c){"use strict";c("d707")},"2d48":function(e,t,c){"use strict";c("f631")},"372d":function(e,t,c){"use strict";c.r(t);var l=c("7a23");Object(l["pushScopeId"])("data-v-089cd30a");var o={class:"container py-4"},a={class:"bg-white px-4 border"},r={class:"navbar py-3"},n={class:"container-fluid"},d=Object(l["createElementVNode"])("span",{class:"navbar-brand"},"產品管理列表",-1),s=Object(l["createElementVNode"])("i",{class:"material-icons md-18"},"add",-1),i=Object(l["createElementVNode"])("span",null,"新增",-1),m=[s,i],b={class:"table-responsive mb-3"},u={class:"table table-hover align-middle mb-0"},p=Object(l["createElementVNode"])("thead",{class:"bg-gray-000"},[Object(l["createElementVNode"])("tr",null,[Object(l["createElementVNode"])("th",{class:"position-relative",width:"128"},"分類"),Object(l["createElementVNode"])("th",{class:"position-relative"},"產品名稱"),Object(l["createElementVNode"])("th",{class:"position-relative"},"原價"),Object(l["createElementVNode"])("th",{class:"position-relative"},"售價"),Object(l["createElementVNode"])("th",{class:"position-relative",width:"128"},"狀態"),Object(l["createElementVNode"])("th",{width:"128"},"編輯")])],-1),j={key:1},O={key:0,class:"text-success d-flex align-items-center"},f=Object(l["createElementVNode"])("div",{class:"circle bg-success me-2"},null,-1),g=Object(l["createElementVNode"])("span",null,"已上架 ",-1),E=[f,g],k={key:1,class:"d-flex align-items-center"},h=Object(l["createElementVNode"])("div",{class:"circle bg-gray-300 me-2"},null,-1),N=Object(l["createElementVNode"])("span",null,"關閉 ",-1),V=[h,N],v={class:"btn-group"},y=["onClick"],B=["onClick"];function x(e,t,c,s,i,f){var g=Object(l["resolveComponent"])("Loading"),h=Object(l["resolveComponent"])("router-link"),N=Object(l["resolveComponent"])("Pagination"),x=Object(l["resolveComponent"])("ProductModal"),U=Object(l["resolveComponent"])("DelModal");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",null,[Object(l["createVNode"])(g,{active:i.isLoading,"z-index":1060},null,8,["active"]),Object(l["createElementVNode"])("div",o,[Object(l["createElementVNode"])("div",a,[Object(l["createElementVNode"])("div",r,[Object(l["createElementVNode"])("div",n,[d,Object(l["createElementVNode"])("button",{class:"btn-sm btn-primary d-flex align-items-center",onClick:t[0]||(t[0]=function(e){return f.openModal("create")})},m)])]),Object(l["createElementVNode"])("div",b,[Object(l["createElementVNode"])("table",u,[p,Object(l["createElementVNode"])("tbody",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(i.products,(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:e.id},[Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.category),1),Object(l["createElementVNode"])("td",null,[e.is_enabled?(Object(l["openBlock"])(),Object(l["createBlock"])(h,{key:0,to:{path:"Product/".concat(e.id)}},{default:Object(l["withCtx"])((function(){return[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.title),1)]})),_:2},1032,["to"])):(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",j,Object(l["toDisplayString"])(e.title),1))]),Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.origin_price),1),Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.price),1),Object(l["createElementVNode"])("td",null,[e.is_enabled?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",O,E)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",k,V))]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("div",v,[Object(l["createElementVNode"])("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:function(e){return f.openModal("edit",t)}}," 編輯 ",8,y),Object(l["createElementVNode"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(e){return f.openModal("delete",t)}}," 刪除 ",8,B)])])])})),128))])])]),Object(l["createVNode"])(N,{pages:i.pagination,onEmitPage:f.getData},null,8,["pages","onEmitPage"])])]),Object(l["createVNode"])(x,{"is-new":i.isNew,tempProduct:i.tempProduct,onUpdateProduct:f.updateProduct,ref:"ProductModal"},null,8,["is-new","tempProduct","onUpdateProduct"]),Object(l["createVNode"])(U,{origin:i.pageName,delItem:i.tempProduct.title,onDelItem:f.deleteProduct,ref:"DelModal"},null,8,["origin","delItem","onDelItem"])])}Object(l["popScopeId"])();var U=c("5530"),w=(c("99af"),c("4de4"),c("a9e3"),c("159b"),c("b64b"),c("b0c0"),c("590b")),C=c("d4a2");Object(l["pushScopeId"])("data-v-7976c12c");var I={ref:"modal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true","data-bs-backdrop":"static"},P={class:"modal-dialog modal-lg modal-dialog-scrollable"},M={class:"modal-content border-0"},S={class:"modal-header"},F={id:"productModalLabel",class:"modal-title"},D={key:0},_={key:1},T=Object(l["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),L={class:" position-relative"},z={class:"position-absolute",style:{"z-index":"1056"}},$=Object(l["createElementVNode"])("h6",{class:"text-gray-300 text-center py-2 mb-0"}," This page ",-1),A={class:"list-group fs-6 fw-normal border-start"},R=["onClick"],J={class:"modal-body",ref:"modalBody"},X={class:"mb-4",ref:"basic"},G=Object(l["createElementVNode"])("h5",null,"基本資訊",-1),Y={class:"row g-3 p-2"},W={class:"col-12"},q=Object(l["createElementVNode"])("label",{for:"title",class:"form-label"},[Object(l["createTextVNode"])("商品名稱 "),Object(l["createElementVNode"])("span",{class:"text-red"},"﹡")],-1),H={class:"col-6"},K=Object(l["createElementVNode"])("label",{for:"category",class:"form-label"},[Object(l["createTextVNode"])(" 分類 "),Object(l["createElementVNode"])("span",{class:"text-red"},"﹡")],-1),Q=Object(l["createElementVNode"])("option",{value:"",disabled:""},"請選擇",-1),Z=["value"],ee={class:"col-6"},te=Object(l["createElementVNode"])("label",{for:"unit",class:"form-label"},[Object(l["createTextVNode"])(" 單位 "),Object(l["createElementVNode"])("span",{class:"text-red"},"﹡")],-1),ce=Object(l["createElementVNode"])("option",{value:"",disabled:""},"請選擇",-1),le=["value"],oe={class:"mb-4",ref:"sales"},ae=Object(l["createElementVNode"])("h5",null,"銷售",-1),re={class:"row g-3 p-2"},ne={class:"col-md-6"},de=Object(l["createElementVNode"])("label",{for:"origin_price",class:"form-label"},[Object(l["createTextVNode"])(" 原價 "),Object(l["createElementVNode"])("span",{class:"text-red"},"﹡")],-1),se={class:"input-group"},ie=Object(l["createElementVNode"])("span",{class:"input-group-text bg-light"},"NT$",-1),me={class:"col-md-6"},be=Object(l["createElementVNode"])("label",{for:"price",class:"form-label"},[Object(l["createTextVNode"])(" 售價 "),Object(l["createElementVNode"])("span",{class:"text-red"},"﹡")],-1),ue={class:"input-group"},pe=Object(l["createElementVNode"])("span",{class:"input-group-text bg-light"},"NT$",-1),je={class:"col-md-12"},Oe=Object(l["createElementVNode"])("label",{class:"form-label"},"尺寸",-1),fe={class:"d-flex flex-wrap"},ge=["for"],Ee=["id","value"],ke={class:"px-2"},he={key:0,class:"col-md-12"},Ne=Object(l["createElementVNode"])("label",{class:"form-label"},"顏色",-1),Ve={class:"d-flex flex-wrap"},ve={class:"w-50"},ye=["id","onUpdate:modelValue"],Be=["onClick"],xe={class:"w-50"},Ue=["id","onUpdate:modelValue"],we=["onClick"],Ce=Object(l["createElementVNode"])("i",{class:"material-icons md-dark "},"add",-1),Ie=Object(l["createElementVNode"])("span",{class:"fs-6 fw-normal text-gray-600"},"新增",-1),Pe=[Ce,Ie],Me=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"clear",-1),Se=Object(l["createElementVNode"])("span",{class:"fs-6 fw-normal text-gray-600"},"刪除",-1),Fe=[Me,Se],De={class:"mb-3",ref:"productPicture"},_e=Object(l["createElementVNode"])("h5",null,"商品圖",-1),Te={class:"d-flex flex-wrap mt-3"},Le={class:"m-2"},ze={key:0,for:"fileInput",class:"d-block bg-light border rounded upfile-wrapper upload\n                  d-flex"},$e=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"file_upload",-1),Ae=Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Upload",-1),Re={class:"w-100 h-100 overflow-hidden\n                    d-flex justify-content-center align-items-center mask"},Je=["src"],Xe={class:"form-label mt-2 text-center"},Ge=Object(l["createTextVNode"])(" 封面照片 "),Ye={key:0,class:"fas fa-spinner fa-spin"},We=["onClick"],qe={class:"w-100 h-100 overflow-hidden\n                    d-flex justify-content-center align-items-center mask"},He=["src"],Ke=["for"],Qe=["id","onChange"],Ze=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"file_upload",-1),et=Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Upload",-1),tt={class:"form-label mt-2 text-center"},ct={key:0,class:"fas fa-spinner fa-spin"},lt={class:"m-2"},ot=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"add",-1),at=Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Add",-1),rt=[ot,at],nt=Object(l["createElementVNode"])("div",{class:"form-label mt-2 d-block text-center"}," 新增 ",-1),dt=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"delete",-1),st=Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Delete",-1),it=[dt,st],mt=Object(l["createElementVNode"])("div",{class:"form-label mt-2 d-block text-center"}," 刪除 ",-1),bt={class:"mb-3",ref:"modelPicture"},ut=Object(l["createElementVNode"])("h5",null,"展示圖",-1),pt={class:"d-flex flex-wrap mt-3"},jt={class:"m-2"},Ot={key:0,for:"modelImageUrl",class:"d-block bg-light border rounded upfile-wrapper upload\n                  d-flex"},ft=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"file_upload",-1),gt=Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Upload",-1),Et={class:"w-100 h-100 overflow-hidden\n                    d-flex justify-content-center align-items-center mask"},kt=["src"],ht={class:"form-label mt-2 text-center"},Nt=Object(l["createTextVNode"])(" 形象封面 "),Vt={key:0,class:"fas fa-spinner fa-spin"},vt=["onClick"],yt={class:"w-100 h-100 overflow-hidden\n                    d-flex justify-content-center align-items-center mask"},Bt=["src"],xt=["for"],Ut=["id","onChange"],wt=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"file_upload",-1),Ct=Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Upload",-1),It={class:"form-label mt-2 text-center"},Pt={key:0,class:"fas fa-spinner fa-spin"},Mt={class:"m-2"},St=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"add",-1),Ft=Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Add",-1),Dt=[St,Ft],_t=Object(l["createElementVNode"])("div",{class:"form-label mt-2 d-block text-center"}," 新增 ",-1),Tt=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"delete",-1),Lt=Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Delete",-1),zt=[Tt,Lt],$t=Object(l["createElementVNode"])("div",{class:"form-label mt-2 d-block text-center"}," 刪除 ",-1),At={class:"mb-3",ref:"productDetail"},Rt=Object(l["createElementVNode"])("h5",null,"商品細節",-1),Jt={class:"d-flex flex-wrap mt-3"},Xt=["onClick"],Gt={class:"w-100 h-100 overflow-hidden\n                    d-flex justify-content-center align-items-center mask"},Yt=["src"],Wt=["for"],qt=["id","onChange"],Ht=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"file_upload",-1),Kt=Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Upload",-1),Qt={class:"form-label mt-2 text-center"},Zt={key:0,class:"fas fa-spinner fa-spin"},ec={class:"m-2"},tc=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"add",-1),cc=Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Add",-1),lc=[tc,cc],oc=Object(l["createElementVNode"])("div",{class:"form-label mt-2 d-block text-center"}," 新增 ",-1),ac=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"delete",-1),rc=Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Delete",-1),nc=[ac,rc],dc=Object(l["createElementVNode"])("div",{class:"form-label mt-2 d-block text-center"}," 刪除 ",-1),sc={class:"mb-3",ref:"productInformation"},ic=Object(l["createElementVNode"])("h5",null,"詳細資訊",-1),mc={class:"d-flex flex-wrap mt-3"},bc=["for"],uc=["id","onChange"],pc=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"file_upload",-1),jc=Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Upload",-1),Oc=["onClick"],fc={class:"w-100 h-100 overflow-hidden\n                    d-flex justify-content-center align-items-center mask"},gc=["src"],Ec={class:"form-label mt-2 text-center"},kc={key:0,class:"fas fa-spinner fa-spin"},hc={class:"mb-4",ref:"isEnabled"},Nc=Object(l["createElementVNode"])("h5",null,"上架狀態",-1),Vc={class:"row g-3 p-2"},vc={class:"col"},yc={for:"isEnabled1",class:"d-inline-block py-2 me-2"},Bc=Object(l["createElementVNode"])("span",{class:"px-2"}," 開啟 ",-1),xc={for:"isEnabled0",class:"d-inline-block py-2 me-2"},Uc=Object(l["createElementVNode"])("span",{class:"px-2"}," 關閉 ",-1),wc={class:"modal-footer bg-white",style:{"z-index":"1057"}},Cc=Object(l["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary me-3","data-bs-dismiss":"modal"}," 取消 ",-1);function Ic(e,t,c,o,a,r){var n=this;return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",I,[Object(l["createElementVNode"])("div",P,[Object(l["createElementVNode"])("div",M,[Object(l["createElementVNode"])("div",S,[Object(l["createElementVNode"])("h3",F,[c.isNew?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",D,"新增商品")):(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",_,"編輯商品"))]),T]),Object(l["createElementVNode"])("nav",L,[Object(l["createElementVNode"])("div",z,[$,Object(l["createElementVNode"])("ul",A,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.nav,(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("li",{class:"list-group-item border-0 text-gray-600",key:t},[Object(l["createElementVNode"])("a",{href:"#",class:"text-reset",onClick:Object(l["withModifiers"])((function(t){return r.subNav(e.ref)}),["prevent"])},Object(l["toDisplayString"])(e.name),9,R)])})),128))])])]),Object(l["createElementVNode"])("div",J,[Object(l["createElementVNode"])("section",X,[G,Object(l["createElementVNode"])("div",Y,[Object(l["createElementVNode"])("div",W,[q,Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(["form-group position-relative",a.product.title?"inputClear":""])},[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{ref:"productTitle",id:"title",type:"text",class:"form-control",placeholder:"請輸入","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.product.title=e})},null,512),[[l["vModelText"],a.product.title]]),a.product.title?(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{key:0,type:"button",class:"btn-close\n                    position-absolute top-50 end-0 translate-middle-y",onClick:t[1]||(t[1]=function(e){a.product.title="",r.clearFocus("productTitle")})})):Object(l["createCommentVNode"])("",!0)],2)]),Object(l["createElementVNode"])("div",H,[K,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"form-select",id:"category","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.product.category=e})},[Q,(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.category,(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,Z)})),128))],512),[[l["vModelSelect"],a.product.category]])]),Object(l["createElementVNode"])("div",ee,[te,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"form-select",id:"unit","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.product.unit=e})},[ce,(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.unit,(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,le)})),128))],512),[[l["vModelSelect"],a.product.unit]])])])],512),Object(l["createElementVNode"])("section",oe,[ae,Object(l["createElementVNode"])("div",re,[Object(l["createElementVNode"])("div",ne,[de,Object(l["createElementVNode"])("div",se,[ie,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"origin_price",type:"number",min:"0",class:"form-control",placeholder:"請輸入","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.product.origin_price=e})},null,512),[[l["vModelText"],a.product.origin_price,void 0,{number:!0}]])])]),Object(l["createElementVNode"])("div",me,[be,Object(l["createElementVNode"])("div",ue,[pe,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"price",type:"number",min:"0",class:"form-control",placeholder:"請輸入","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.product.price=e})},null,512),[[l["vModelText"],a.product.price,void 0,{number:!0}]])])]),Object(l["createElementVNode"])("div",je,[Oe,Object(l["createElementVNode"])("div",fe,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.clothSize,(function(e,c){return Object(l["openBlock"])(),Object(l["createElementBlock"])("label",{class:"d-inline-block py-2 me-2",key:c,for:"clothSize"+e},[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"clothSize"+e,class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=function(e){return a.product.clothSize=e}),value:e},null,8,Ee),[[l["vModelCheckbox"],a.product.clothSize]]),Object(l["createElementVNode"])("span",ke,Object(l["toDisplayString"])(e),1)],8,ge)})),128))])]),a.product.colors?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",he,[Ne,(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.product.colors,(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:"mb-3",key:t},[Object(l["createElementVNode"])("div",Ve,[e.colorChart?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:0,class:"w-100 colorReveal border border-bottom-0 rounded-top",style:Object(l["normalizeStyle"])({backgroundColor:e.colorChart})},null,4)):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",ve,[Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(["form-group position-relative",e.name?"inputClear":""])},[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"colors"+t,ref:"colors"+t,type:"text",class:Object(l["normalizeClass"])(["form-control",e.colorChart?"colorsName":"name"]),placeholder:"請輸入色名，例如：白色","onUpdate:modelValue":function(t){return e.name=t}},null,10,ye),[[l["vModelText"],e.name]]),e.name?(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{key:0,type:"button",class:"btn-close position-absolute top-50 end-0 translate-middle-y",onClick:function(e){a.product.colors[t].name="",r.clearFocus("colors"+t)}},null,8,Be)):Object(l["createCommentVNode"])("",!0)],2)]),Object(l["createElementVNode"])("div",xe,[Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(["form-group position-relative",e.colorChart?"inputClear":""])},[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"colorChart"+t,ref:"colorChart"+t,type:"text",class:Object(l["normalizeClass"])(["form-control ",e.colorChart?"colorChart":"chart"]),placeholder:"請輸入色票，例如：#F1F1F1","onUpdate:modelValue":function(t){return e.colorChart=t}},null,10,Ue),[[l["vModelText"],e.colorChart]]),e.colorChart?(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{key:0,type:"button",class:"btn-close position-absolute top-50 end-0 translate-middle-y",onClick:function(e){a.product.colors[t].colorChart="",r.clearFocus("colorChart"+t)}},null,8,we)):Object(l["createCommentVNode"])("",!0)],2)])])])})),128)),!a.product.colors.length||Object.keys(a.product.colors[a.product.colors.length-1].name).length||Object.keys(a.product.colors[a.product.colors.length-1].colorChart).length?(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{key:0,type:"button",class:"d-block bg-light border rounded\n                        upfile-wrapper upload d-flex btn-size",onClick:t[7]||(t[7]=function(e){return r.colorsFocus()})},Pe)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{key:1,type:"button",class:"d-block bg-light border rounded\n                        upfile-wrapper upload d-flex btn-size",onClick:t[8]||(t[8]=function(e){return a.product.colors.pop()})},Fe))])):Object(l["createCommentVNode"])("",!0)])],512),Object(l["createElementVNode"])("section",De,[_e,Object(l["createElementVNode"])("div",Te,[Object(l["createElementVNode"])("div",Le,[a.product.imageUrl?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:1,class:"border rounded upfile-wrapper",onClick:t[10]||(t[10]=Object(l["withModifiers"])((function(e){return a.product.imageUrl=""}),["prevent"]))},[Object(l["createElementVNode"])("div",Re,[Object(l["createElementVNode"])("img",{class:"img-fluid",src:a.product.imageUrl,alt:""},null,8,Je)])])):(Object(l["openBlock"])(),Object(l["createElementBlock"])("label",ze,[Object(l["createElementVNode"])("input",{id:"fileInput",type:"file",class:"d-none",ref:"fileInput",onChange:t[9]||(t[9]=function(e){return r.uploadFile("fileInput","imageUrl")})},null,544),$e,Ae])),Object(l["createElementVNode"])("div",Xe,[Ge,a.status.fileUploading?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",Ye)):Object(l["createCommentVNode"])("",!0)])]),a.product.imagesUrl?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.product.imagesUrl,(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:"m-2",key:t},[a.product.imagesUrl[t]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:0,class:"border rounded upfile-wrapper",onClick:Object(l["withModifiers"])((function(e){return a.product.imagesUrl[t]=""}),["prevent"])},[Object(l["createElementVNode"])("div",qe,[Object(l["createElementVNode"])("img",{class:"img-fluid",src:a.product.imagesUrl[t],alt:""},null,8,He)])],8,We)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("label",{key:1,for:"imagesUrl"+t,class:"d-block bg-light border rounded upfile-wrapper upload d-flex"},[Object(l["createElementVNode"])("input",{id:"imagesUrl"+t,type:"file",class:"d-none",ref:"imagesUrl"+t,onChange:function(e){return r.uploadFile("imagesUrl"+t,"imagesUrl",t)}},null,40,Qe),Ze,et],8,Ke)),Object(l["createElementVNode"])("div",tt,[Object(l["createTextVNode"])(" 圖片 "+Object(l["toDisplayString"])(t+1)+" ",1),a.status.fileUploading?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",ct)):Object(l["createCommentVNode"])("",!0)])])})),128)),Object(l["createElementVNode"])("div",lt,[!a.product.imagesUrl.length||a.product.imagesUrl[a.product.imagesUrl.length-1]?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[Object(l["createElementVNode"])("button",{type:"button",class:"d-block bg-light border rounded upfile-wrapper upload d-flex",onClick:t[11]||(t[11]=function(e){return a.product.imagesUrl.push("")})},rt),nt],64)):(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:1},[Object(l["createElementVNode"])("button",{type:"button",class:"d-block bg-light border rounded upfile-wrapper upload d-flex",onClick:t[12]||(t[12]=function(e){return a.product.imagesUrl.pop()})},it),mt],64))])],64)):Object(l["createCommentVNode"])("",!0)])],512),Object(l["createElementVNode"])("section",bt,[ut,Object(l["createElementVNode"])("div",pt,[Object(l["createElementVNode"])("div",jt,[a.product.modelImageUrl?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:1,class:"border rounded upfile-wrapper",onClick:t[14]||(t[14]=Object(l["withModifiers"])((function(e){return a.product.modelImageUrl=""}),["prevent"]))},[Object(l["createElementVNode"])("div",Et,[Object(l["createElementVNode"])("img",{class:"img-fluid",src:a.product.modelImageUrl,alt:""},null,8,kt)])])):(Object(l["openBlock"])(),Object(l["createElementBlock"])("label",Ot,[Object(l["createElementVNode"])("input",{id:"modelImageUrl",type:"file",class:"d-none",ref:"modelImageUrl",onChange:t[13]||(t[13]=function(e){return r.uploadFile("modelImageUrl","modelImageUrl")})},null,544),ft,gt])),Object(l["createElementVNode"])("div",ht,[Nt,a.status.fileUploading?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",Vt)):Object(l["createCommentVNode"])("",!0)])]),a.product.modelImagesUrl?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.product.modelImagesUrl,(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:"m-2",key:t},[a.product.modelImagesUrl[t]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:0,class:"border rounded upfile-wrapper",onClick:Object(l["withModifiers"])((function(e){return a.product.modelImagesUrl[t]=""}),["prevent"])},[Object(l["createElementVNode"])("div",yt,[Object(l["createElementVNode"])("img",{class:"img-fluid",src:a.product.modelImagesUrl[t],alt:""},null,8,Bt)])],8,vt)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("label",{key:1,for:"modelImagesUrl"+t,class:"d-block bg-light border rounded upfile-wrapper upload d-flex"},[Object(l["createElementVNode"])("input",{id:"modelImagesUrl"+t,type:"file",class:"d-none",ref:"modelImagesUrl"+t,onChange:function(e){return r.uploadFile("modelImagesUrl"+t,"modelImagesUrl",t)}},null,40,Ut),wt,Ct],8,xt)),Object(l["createElementVNode"])("div",It,[Object(l["createTextVNode"])(" 展示 "+Object(l["toDisplayString"])(t+1)+" ",1),a.status.fileUploading?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",Pt)):Object(l["createCommentVNode"])("",!0)])])})),128)),Object(l["createElementVNode"])("div",Mt,[!a.product.modelImagesUrl.length||a.product.modelImagesUrl[a.product.modelImagesUrl.length-1]?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[Object(l["createElementVNode"])("button",{type:"button",class:"d-block bg-light border rounded upfile-wrapper upload d-flex",onClick:t[15]||(t[15]=function(e){return a.product.modelImagesUrl.push("")})},Dt),_t],64)):(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:1},[Object(l["createElementVNode"])("button",{type:"button",class:"d-block bg-light border rounded upfile-wrapper upload d-flex",onClick:t[16]||(t[16]=function(e){return a.product.modelImagesUrl.pop()})},zt),$t],64))])],64)):Object(l["createCommentVNode"])("",!0)])],512),Object(l["createElementVNode"])("section",At,[Rt,Object(l["createElementVNode"])("div",Jt,[a.product.detalImagesUrl?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.product.detalImagesUrl,(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:"m-2",key:t},[a.product.detalImagesUrl[t]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:0,class:"border rounded upfile-wrapper",onClick:Object(l["withModifiers"])((function(e){return a.product.detalImagesUrl[t]=""}),["prevent"])},[Object(l["createElementVNode"])("div",Gt,[Object(l["createElementVNode"])("img",{class:"img-fluid",src:a.product.detalImagesUrl[t],alt:""},null,8,Yt)])],8,Xt)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("label",{key:1,for:"detalImagesUrl"+t,class:"d-block bg-light border rounded upfile-wrapper upload d-flex"},[Object(l["createElementVNode"])("input",{id:"detalImagesUrl"+t,type:"file",class:"d-none",ref:"detalImagesUrl"+t,onChange:function(e){return r.uploadFile("detalImagesUrl"+t,"detalImagesUrl",t)}},null,40,qt),Ht,Kt],8,Wt)),Object(l["createElementVNode"])("div",Qt,[Object(l["createTextVNode"])(" 細節 "+Object(l["toDisplayString"])(t+1)+" ",1),a.status.fileUploading?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",Zt)):Object(l["createCommentVNode"])("",!0)])])})),128)),Object(l["createElementVNode"])("div",ec,[!a.product.detalImagesUrl.length||a.product.detalImagesUrl[a.product.detalImagesUrl.length-1]?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[Object(l["createElementVNode"])("button",{type:"button",class:"d-block bg-light border rounded upfile-wrapper upload d-flex",onClick:t[17]||(t[17]=function(e){return a.product.detalImagesUrl.push("")})},lc),oc],64)):(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:1},[Object(l["createElementVNode"])("button",{type:"button",class:"d-block bg-light border rounded upfile-wrapper upload d-flex",onClick:t[18]||(t[18]=function(e){return a.product.detalImagesUrl.pop()})},nc),dc],64))])],64)):Object(l["createCommentVNode"])("",!0)])],512),Object(l["createElementVNode"])("section",sc,[ic,Object(l["createElementVNode"])("div",mc,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.productInformation,(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:"m-2",key:t},[a.product[e.ref]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:1,class:"border rounded upfile-wrapper",onClick:Object(l["withModifiers"])((function(t){return a.product[e.ref]=""}),["prevent"])},[Object(l["createElementVNode"])("div",fc,[Object(l["createElementVNode"])("img",{class:"img-fluid",src:a.product[e.ref],alt:""},null,8,gc)])],8,Oc)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("label",{key:0,for:e.ref,class:"d-block bg-light border rounded upfile-wrapper upload\n                  d-flex"},[Object(l["createElementVNode"])("input",{id:e.ref,type:"file",class:"d-none",ref:e.ref,onChange:function(t){return r.uploadFile(e.ref,e.ref)}},null,40,uc),pc,jc],8,bc)),Object(l["createElementVNode"])("div",Ec,[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.name)+" ",1),a.status.fileUploading?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",kc)):Object(l["createCommentVNode"])("",!0)])])})),128))])],512),Object(l["createElementVNode"])("section",hc,[Nc,Object(l["createElementVNode"])("div",Vc,[Object(l["createElementVNode"])("div",vc,[Object(l["createElementVNode"])("label",yc,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"isEnabled1",class:"form-check-input",type:"radio","onUpdate:modelValue":t[19]||(t[19]=function(e){return a.product.is_enabled=e}),value:"1"},null,512),[[l["vModelRadio"],a.product.is_enabled]]),Bc]),Object(l["createElementVNode"])("label",xc,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"isEnabled0",class:"form-check-input",type:"radio","onUpdate:modelValue":t[20]||(t[20]=function(e){return a.product.is_enabled=e}),value:"0"},null,512),[[l["vModelRadio"],a.product.is_enabled]]),Uc])])])],512)],512),Object(l["createElementVNode"])("div",wc,[Cc,Object(l["createElementVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[21]||(t[21]=function(t){return e.$emit("update-product",n.product)})}," 確認 ")])])])],512)}Object(l["popScopeId"])();var Pc=c("e0ae"),Mc={mixins:[Pc["a"]],inject:["httpMessageState"],emits:["update-product"],props:{tempProduct:{default:function(){return{imagesUrl:[]}}},isNew:{type:Boolean,default:!1}},data:function(){return{waitProcess:!1,status:{},product:{},category:["NEW 新品","上衣","裙裝","褲裝","配飾","套裝專區"],unit:["套","件"],clothSize:["S","M","L","XL","F"],productInformation:[{name:"款號",ref:"infolImageUrl"},{name:"尺碼",ref:"sizeImageUrl"},{name:"模特",ref:"modelInfoImageUrl"},{name:"試穿",ref:"tryOnImageUrl"},{name:"面料",ref:"tabricImageUrl"}],nav:[{name:"基本資訊",ref:"basic"},{name:"銷售",ref:"sales"},{name:"商品圖",ref:"productPicture"},{name:"展示圖",ref:"modelPicture"},{name:"商品細節",ref:"productDetail"},{name:"詳細資訊",ref:"productInformation"},{name:"上架狀態",ref:"isEnabled"}]}},watch:{tempProduct:function(){var e=this;this.product=JSON.parse(JSON.stringify(this.tempProduct));var t=["imageUrl","unit","category","modelImageUrl","infolImageUrl","sizeImageUrl","modelInfoImageUrl","tabricImageUrl","tryOnImageUrl"],c=["imagesUrl","clothSize","colors","modelImagesUrl","detalImagesUrl"];t.forEach((function(t){e.product[t]||(e.product[t]="")})),c.forEach((function(t){e.product[t]||(e.product[t]=[])})),void 0===this.product.is_enabled&&(this.product.is_enabled=1)}},methods:{uploadFile:function(e,t,c){var l=this,o=this.$refs[e].files[0],a=new FormData;a.append("file-to-upload",o);var r="".concat("https://vue3-course-api.hexschool.io/","api/").concat("haohao","/admin/upload");this.status.fileUploading=!0;var n="圖片上傳";this.$http.post(r,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(o){l.status.fileUploading=!1,o.data.success?(c||0===c?l.product[t][c]=o.data.imageUrl:l.product[t]=o.data.imageUrl,l.$refs[e].value="",l.httpMessageState(o,n)):(l.$refs[e].value="",l.httpMessageState(o,n))}))},colorsFocus:function(){this.product.colors.push({name:"",colorChart:""}),this.waitProcess=!0},subNav:function(e){this.$refs.modalBody.scrollTo(0,this.$refs[e].offsetTop-24)},clearFocus:function(e){this.$refs[e].focus()}},updated:function(){this.waitProcess&&(this.$refs["colors".concat(this.product.colors.length-1)].focus(),this.waitProcess=!1)}};c("1061");Mc.render=Ic,Mc.__scopeId="data-v-7976c12c";var Sc=Mc,Fc={components:{DelModal:w["a"],Pagination:C["a"],ProductModal:Sc},inject:["httpMessageState"],data:function(){return{whateverActivatesThisLink:!1,pageName:"商品",isLoading:!1,products:[],pagination:[],currentPage:1,isNew:!1,tempProduct:{imagesUrl:[]}}},methods:{getData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0,this.currentPage=t;var c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("haohao","/admin/products?page=").concat(t);this.$http.get(c).then((function(t){e.products=t.data.products,e.pagination=t.data.pagination,e.isLoading=!1}))},openModal:function(e,t){"create"===e?(this.tempProduct={imagesUrl:[]},this.isNew=!0,this.$refs.ProductModal.openModal()):"edit"===e?(this.tempProduct=Object(U["a"])({},this.products[t]),this.isNew=!1,this.$refs.ProductModal.openModal()):"delete"===e&&(this.tempProduct=Object(U["a"])({},this.products[t]),this.$refs.DelModal.openModal())},updateProduct:function(e){var t=this;this.isLoading=!0,this.tempProduct=e,this.tempProduct.imagesUrl=this.tempProduct.imagesUrl.filter(Boolean),this.tempProduct.modelImagesUrl=this.tempProduct.modelImagesUrl.filter(Boolean),this.tempProduct.detalImagesUrl=this.tempProduct.detalImagesUrl.filter(Boolean),this.tempProduct.is_enabled=Number(this.tempProduct.is_enabled);var c=["S","M","L","XL","F"];this.tempProduct.clothSize=c.filter((function(e){return-1!==t.tempProduct.clothSize.indexOf(e)}));var l=[];this.tempProduct.colors.forEach((function(e){(Object.keys(e.name).length||Object.keys(e.colorChart).length)&&l.push(e)})),this.tempProduct.colors=l;var o="".concat("https://vue3-course-api.hexschool.io/","api/").concat("haohao","/admin/product"),a="post",r="新增產品";this.isNew||(o="".concat("https://vue3-course-api.hexschool.io/","api/").concat("haohao","/admin/product/").concat(this.tempProduct.id),a="put",r="更新產品"),this.$http[a](o,{data:this.tempProduct}).then((function(e){e.data.success?(t.getData(t.currentPage),t.isLoading=!1,t.$refs.ProductModal.hideModal(),t.httpMessageState(e,r)):(t.isLoading=!1,t.httpMessageState(e,r))}))},deleteProduct:function(){var e=this;this.isLoading=!0;var t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("haohao","/admin/product/").concat(this.tempProduct.id);this.$http.delete(t).then((function(t){e.getData(e.currentPage),e.isLoading=!1,e.httpMessageState(t,"刪除產品"),e.$refs.DelModal.hideModal()}))}},created:function(){this.getData()}};c("2d48");Fc.render=x,Fc.__scopeId="data-v-089cd30a";t["default"]=Fc},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,c){var l=c("1d80"),o=c("577e"),a=c("5899"),r="["+a+"]",n=RegExp("^"+r+r+"*"),d=RegExp(r+r+"*$"),s=function(e){return function(t){var c=o(l(t));return 1&e&&(c=c.replace(n,"")),2&e&&(c=c.replace(d,"")),c}};e.exports={start:s(1),end:s(2),trim:s(3)}},7156:function(e,t,c){var l=c("861d"),o=c("d2bb");e.exports=function(e,t,c){var a,r;return o&&"function"==typeof(a=t.constructor)&&a!==c&&l(r=a.prototype)&&r!==c.prototype&&o(e,r),e}},a9e3:function(e,t,c){"use strict";var l=c("83ab"),o=c("da84"),a=c("94ca"),r=c("6eeb"),n=c("5135"),d=c("c6b6"),s=c("7156"),i=c("d9b5"),m=c("c04e"),b=c("d039"),u=c("7c73"),p=c("241c").f,j=c("06cf").f,O=c("9bf2").f,f=c("58a8").trim,g="Number",E=o[g],k=E.prototype,h=d(u(k))==g,N=function(e){if(i(e))throw TypeError("Cannot convert a Symbol value to a number");var t,c,l,o,a,r,n,d,s=m(e,"number");if("string"==typeof s&&s.length>2)if(s=f(s),t=s.charCodeAt(0),43===t||45===t){if(c=s.charCodeAt(2),88===c||120===c)return NaN}else if(48===t){switch(s.charCodeAt(1)){case 66:case 98:l=2,o=49;break;case 79:case 111:l=8,o=55;break;default:return+s}for(a=s.slice(2),r=a.length,n=0;n<r;n++)if(d=a.charCodeAt(n),d<48||d>o)return NaN;return parseInt(a,l)}return+s};if(a(g,!E(" 0o1")||!E("0b1")||E("+0x1"))){for(var V,v=function(e){var t=arguments.length<1?0:e,c=this;return c instanceof v&&(h?b((function(){k.valueOf.call(c)})):d(c)!=g)?s(new E(N(t)),c,v):N(t)},y=l?p(E):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),B=0;y.length>B;B++)n(E,V=y[B])&&!n(v,V)&&O(v,V,j(E,V));v.prototype=k,k.constructor=v,r(o,g,v)}},d707:function(e,t,c){},f631:function(e,t,c){}}]);
//# sourceMappingURL=chunk-2b19361e.71a20196.js.map