(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ba4cc"],{"372d":function(e,t,c){"use strict";c.r(t);var l=c("7a23"),o={class:"container py-4"},a={class:"bg-white px-4 border"},r={class:"navbar py-3"},n={class:"container-fluid"},d=Object(l["createElementVNode"])("span",{class:"navbar-brand"},"產品管理列表",-1),s=Object(l["createElementVNode"])("i",{class:"material-icons md-18"},"add",-1),i=Object(l["createElementVNode"])("span",null,"新增",-1),m=[s,i],b={class:"table-responsive mb-3"},u={class:"table table-hover align-middle mb-0"},p=Object(l["createElementVNode"])("thead",{class:"bg-gray-000"},[Object(l["createElementVNode"])("tr",null,[Object(l["createElementVNode"])("th",{class:"position-relative"},"分類"),Object(l["createElementVNode"])("th",{class:"position-relative col-5"},"產品名稱"),Object(l["createElementVNode"])("th",{class:"position-relative"},"原價"),Object(l["createElementVNode"])("th",{class:"position-relative"},"售價"),Object(l["createElementVNode"])("th",{class:"position-relative"},"狀態"),Object(l["createElementVNode"])("th",{class:"col-1"},"編輯")])],-1),j={class:"text-end"},O={class:"text-end"},f={key:0,class:"text-success d-flex align-items-center"},g=Object(l["createElementVNode"])("div",{class:"circle bg-success me-2"},null,-1),k=Object(l["createElementVNode"])("span",null,"啟用 ",-1),E=[g,k],h={key:1,class:"d-flex align-items-center"},N=Object(l["createElementVNode"])("div",{class:"circle bg-gray-300 me-2"},null,-1),V=Object(l["createElementVNode"])("span",null,"關閉 ",-1),v=[N,V],y={class:"btn-group"},B=["onClick"],x=["onClick"];function U(e,t,c,s,i,g){var k=Object(l["resolveComponent"])("Loading"),N=Object(l["resolveComponent"])("router-link"),V=Object(l["resolveComponent"])("Pagination"),U=Object(l["resolveComponent"])("ProductModal"),w=Object(l["resolveComponent"])("DelModal");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",null,[Object(l["createVNode"])(k,{active:i.isLoading,"z-index":1060},null,8,["active"]),Object(l["createElementVNode"])("div",o,[Object(l["createElementVNode"])("div",a,[Object(l["createElementVNode"])("div",r,[Object(l["createElementVNode"])("div",n,[d,Object(l["createElementVNode"])("button",{class:"btn-sm btn-primary d-flex align-items-center",onClick:t[0]||(t[0]=function(e){return g.openModal("create")})},m)])]),Object(l["createElementVNode"])("div",b,[Object(l["createElementVNode"])("table",u,[p,Object(l["createElementVNode"])("tbody",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(i.products,(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:e.id},[Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.category),1),Object(l["createElementVNode"])("td",null,[Object(l["createVNode"])(N,{to:{path:"Product/".concat(e.id)}},{default:Object(l["withCtx"])((function(){return[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.title),1)]})),_:2},1032,["to"])]),Object(l["createElementVNode"])("td",j,Object(l["toDisplayString"])(e.origin_price),1),Object(l["createElementVNode"])("td",O,Object(l["toDisplayString"])(e.price),1),Object(l["createElementVNode"])("td",null,[e.is_enabled?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",f,E)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",h,v))]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("div",y,[Object(l["createElementVNode"])("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:function(e){return g.openModal("edit",t)}}," 編輯 ",8,B),Object(l["createElementVNode"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(e){return g.openModal("delete",t)}}," 刪除 ",8,x)])])])})),128))])])]),Object(l["createVNode"])(V,{pages:i.pagination,onEmitPage:g.getData},null,8,["pages","onEmitPage"])])]),Object(l["createVNode"])(U,{"is-new":i.isNew,tempProduct:i.tempProduct,onUpdateProduct:g.updateProduct,ref:"ProductModal"},null,8,["is-new","tempProduct","onUpdateProduct"]),Object(l["createVNode"])(w,{onDelItem:g.deleteProduct,ref:"DelModal"},null,8,["onDelItem"])])}var w=c("5530"),C=(c("99af"),c("4de4"),c("159b"),c("b64b"),c("b0c0"),c("590b")),I=c("d4a2"),P={id:"productModal",ref:"modal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true","data-bs-backdrop":"static"},M={class:"modal-dialog modal-lg modal-dialog-scrollable"},D={class:"modal-content border-0"},F={class:"modal-header"},S={id:"productModalLabel",class:"modal-title"},L={key:0},T={key:1},z=Object(l["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),$={class:" position-relative"},_={class:"position-absolute",style:{"z-index":"1056"}},J=Object(l["createElementVNode"])("h6",{class:"text-gray-300 text-center py-2 mb-0"}," This page ",-1),A={class:"list-group fs-6 fw-normal border-start"},R=["onClick"],X={class:"modal-body modal-xl",ref:"modalBody"},q={class:"mb-4",ref:"basic"},G=Object(l["createElementVNode"])("h5",null,"基本資訊",-1),H={class:"row g-3 p-2"},K={class:"col-12"},Q=Object(l["createElementVNode"])("label",{for:"title",class:"form-label"},[Object(l["createTextVNode"])("商品名稱 "),Object(l["createElementVNode"])("span",{class:"text-red"},"﹡")],-1),W={class:"col-6"},Y=Object(l["createElementVNode"])("label",{for:"category",class:"form-label"},[Object(l["createTextVNode"])(" 分類 "),Object(l["createElementVNode"])("span",{class:"text-red"},"﹡")],-1),Z=Object(l["createElementVNode"])("option",{value:"",disabled:""},"請選擇",-1),ee=["value"],te={class:"col-6"},ce=Object(l["createElementVNode"])("label",{for:"unit",class:"form-label"},[Object(l["createTextVNode"])(" 單位 "),Object(l["createElementVNode"])("span",{class:"text-red"},"﹡")],-1),le=Object(l["createElementVNode"])("option",{value:"",disabled:""},"請選擇",-1),oe=["value"],ae={class:"mb-4",ref:"sales"},re=Object(l["createElementVNode"])("h5",null,"銷售",-1),ne={class:"row g-3 p-2"},de={class:"col-md-6"},se=Object(l["createElementVNode"])("label",{for:"origin_price",class:"form-label"},[Object(l["createTextVNode"])(" 原價 "),Object(l["createElementVNode"])("span",{class:"text-red"},"﹡")],-1),ie={class:"input-group"},me=Object(l["createElementVNode"])("span",{class:"input-group-text bg-light"},"NT$",-1),be={class:"col-md-6"},ue=Object(l["createElementVNode"])("label",{for:"price",class:"form-label"},[Object(l["createTextVNode"])(" 售價 "),Object(l["createElementVNode"])("span",{class:"text-red"},"﹡")],-1),pe={class:"input-group"},je=Object(l["createElementVNode"])("span",{class:"input-group-text bg-light"},"NT$",-1),Oe={class:"col-md-12"},fe=Object(l["createElementVNode"])("label",{class:"form-label"},"尺寸",-1),ge={class:"d-flex flex-wrap"},ke=["for"],Ee=["id","value"],he={class:"px-2"},Ne={key:0,class:"col-md-12"},Ve=Object(l["createElementVNode"])("label",{class:"form-label"},"顏色",-1),ve={class:"d-flex flex-wrap"},ye={class:"w-50"},Be=["id","onUpdate:modelValue"],xe=["onClick"],Ue={class:"w-50"},we=["id","onUpdate:modelValue"],Ce=["onClick"],Ie=Object(l["createElementVNode"])("i",{class:"material-icons md-dark "},"add",-1),Pe=Object(l["createElementVNode"])("span",{class:"fs-6 fw-normal text-gray-600"},"新增",-1),Me=[Ie,Pe],De=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"clear",-1),Fe=Object(l["createElementVNode"])("span",{class:"fs-6 fw-normal text-gray-600"},"刪除",-1),Se=[De,Fe],Le={class:"mb-3",ref:"productPicture"},Te=Object(l["createElementVNode"])("h5",null,"商品圖",-1),ze={class:"d-flex flex-wrap mt-3"},$e={class:"m-2"},_e={key:0,for:"fileInput",class:"d-block bg-light border rounded upfile-wrapper upload\n                  d-flex"},Je=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"file_upload",-1),Ae=Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Upload",-1),Re={class:"w-100 h-100 overflow-hidden\n                    d-flex justify-content-center align-items-center mask"},Xe=["src"],qe={class:"form-label mt-2 text-center"},Ge=Object(l["createTextVNode"])(" 封面照片 "),He={key:0,class:"fas fa-spinner fa-spin"},Ke=["onClick"],Qe={class:"w-100 h-100 overflow-hidden\n                    d-flex justify-content-center align-items-center mask"},We=["src"],Ye=["for"],Ze=["id","onChange"],et=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"file_upload",-1),tt=Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Upload",-1),ct={class:"form-label mt-2 text-center"},lt={key:0,class:"fas fa-spinner fa-spin"},ot={class:"m-2"},at=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"add",-1),rt=Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Add",-1),nt=[at,rt],dt=Object(l["createElementVNode"])("div",{class:"form-label mt-2 d-block text-center"}," 新增 ",-1),st=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"delete",-1),it=Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Delete",-1),mt=[st,it],bt=Object(l["createElementVNode"])("div",{class:"form-label mt-2 d-block text-center"}," 刪除 ",-1),ut={class:"mb-3",ref:"modelPicture"},pt=Object(l["createElementVNode"])("h5",null,"展示圖",-1),jt={class:"d-flex flex-wrap mt-3"},Ot={class:"m-2"},ft={key:0,for:"modelImageUrl",class:"d-block bg-light border rounded upfile-wrapper upload\n                  d-flex"},gt=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"file_upload",-1),kt=Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Upload",-1),Et={class:"w-100 h-100 overflow-hidden\n                    d-flex justify-content-center align-items-center mask"},ht=["src"],Nt={class:"form-label mt-2 text-center"},Vt=Object(l["createTextVNode"])(" 形象封面 "),vt={key:0,class:"fas fa-spinner fa-spin"},yt=["onClick"],Bt={class:"w-100 h-100 overflow-hidden\n                    d-flex justify-content-center align-items-center mask"},xt=["src"],Ut=["for"],wt=["id","onChange"],Ct=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"file_upload",-1),It=Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Upload",-1),Pt={class:"form-label mt-2 text-center"},Mt={key:0,class:"fas fa-spinner fa-spin"},Dt={class:"m-2"},Ft=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"add",-1),St=Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Add",-1),Lt=[Ft,St],Tt=Object(l["createElementVNode"])("div",{class:"form-label mt-2 d-block text-center"}," 新增 ",-1),zt=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"delete",-1),$t=Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Delete",-1),_t=[zt,$t],Jt=Object(l["createElementVNode"])("div",{class:"form-label mt-2 d-block text-center"}," 刪除 ",-1),At={class:"mb-3",ref:"productDetail"},Rt=Object(l["createElementVNode"])("h5",null,"商品細節",-1),Xt={class:"d-flex flex-wrap mt-3"},qt=["onClick"],Gt={class:"w-100 h-100 overflow-hidden\n                    d-flex justify-content-center align-items-center mask"},Ht=["src"],Kt=["for"],Qt=["id","onChange"],Wt=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"file_upload",-1),Yt=Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Upload",-1),Zt={class:"form-label mt-2 text-center"},ec={key:0,class:"fas fa-spinner fa-spin"},tc={class:"m-2"},cc=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"add",-1),lc=Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Add",-1),oc=[cc,lc],ac=Object(l["createElementVNode"])("div",{class:"form-label mt-2 d-block text-center"}," 新增 ",-1),rc=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"delete",-1),nc=Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Delete",-1),dc=[rc,nc],sc=Object(l["createElementVNode"])("div",{class:"form-label mt-2 d-block text-center"}," 刪除 ",-1),ic={class:"mb-3",ref:"productInformation"},mc=Object(l["createElementVNode"])("h5",null,"詳細資訊",-1),bc={class:"d-flex flex-wrap mt-3"},uc=["for"],pc=["id"],jc=Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"file_upload",-1),Oc=Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Upload",-1),fc=["onClick"],gc={class:"w-100 h-100 overflow-hidden\n                    d-flex justify-content-center align-items-center mask"},kc=["src"],Ec={class:"form-label mt-2 text-center"},hc={key:0,class:"fas fa-spinner fa-spin"},Nc={class:"mb-4",ref:"isEnabled"},Vc=Object(l["createElementVNode"])("h5",null,"上架狀態",-1),vc={class:"row g-3 p-2"},yc={class:"col"},Bc={for:"isEnabled1",class:"d-inline-block py-2 me-2"},xc=Object(l["createElementVNode"])("span",{class:"px-2"}," 開啟 ",-1),Uc={for:"isEnabled0",class:"d-inline-block py-2 me-2"},wc=Object(l["createElementVNode"])("span",{class:"px-2"}," 關閉 ",-1),Cc={class:"modal-footer bg-white",style:{"z-index":"1057"}},Ic=Object(l["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary me-3","data-bs-dismiss":"modal"}," 取消 ",-1);function Pc(e,t,c,o,a,r){var n=this;return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",P,[Object(l["createElementVNode"])("div",M,[Object(l["createElementVNode"])("div",D,[Object(l["createElementVNode"])("div",F,[Object(l["createElementVNode"])("h3",S,[c.isNew?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",L,"新增商品")):(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",T,"編輯商品"))]),z]),Object(l["createElementVNode"])("nav",$,[Object(l["createElementVNode"])("div",_,[J,Object(l["createElementVNode"])("ul",A,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.nav,(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("li",{class:"list-group-item border-0 text-gray-600",key:t},[Object(l["createElementVNode"])("a",{href:"#",class:"text-reset",onClick:Object(l["withModifiers"])((function(t){return r.subNav(e.ref)}),["prevent"])},Object(l["toDisplayString"])(e.name),9,R)])})),128))])])]),Object(l["createElementVNode"])("div",X,[Object(l["createElementVNode"])("section",q,[G,Object(l["createElementVNode"])("div",H,[Object(l["createElementVNode"])("div",K,[Q,Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(["form-group position-relative",a.product.title?"inputClear":""])},[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{ref:"productTitle",id:"title",type:"text",class:"form-control",placeholder:"請輸入","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.product.title=e})},null,512),[[l["vModelText"],a.product.title]]),a.product.title?(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{key:0,type:"button",class:"btn-close\n                    position-absolute top-50 end-0 translate-middle-y",onClick:t[1]||(t[1]=function(e){a.product.title="",r.clearFocus("productTitle")})})):Object(l["createCommentVNode"])("",!0)],2)]),Object(l["createElementVNode"])("div",W,[Y,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"form-select",id:"category","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.product.category=e})},[Z,(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.category,(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,ee)})),128))],512),[[l["vModelSelect"],a.product.category]])]),Object(l["createElementVNode"])("div",te,[ce,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{class:"form-select",id:"unit","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.product.unit=e})},[le,(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.unit,(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,oe)})),128))],512),[[l["vModelSelect"],a.product.unit]])])])],512),Object(l["createElementVNode"])("section",ae,[re,Object(l["createElementVNode"])("div",ne,[Object(l["createElementVNode"])("div",de,[se,Object(l["createElementVNode"])("div",ie,[me,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"origin_price",type:"number",min:"0",class:"form-control",placeholder:"請輸入","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.product.origin_price=e})},null,512),[[l["vModelText"],a.product.origin_price,void 0,{number:!0}]])])]),Object(l["createElementVNode"])("div",be,[ue,Object(l["createElementVNode"])("div",pe,[je,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"price",type:"number",min:"0",class:"form-control",placeholder:"請輸入","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.product.price=e})},null,512),[[l["vModelText"],a.product.price,void 0,{number:!0}]])])]),Object(l["createElementVNode"])("div",Oe,[fe,Object(l["createElementVNode"])("div",ge,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.clothSize,(function(e,c){return Object(l["openBlock"])(),Object(l["createElementBlock"])("label",{class:"d-inline-block py-2 me-2",key:c,for:"clothSize"+e},[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"clothSize"+e,class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=function(e){return a.product.clothSize=e}),value:e},null,8,Ee),[[l["vModelCheckbox"],a.product.clothSize]]),Object(l["createElementVNode"])("span",he,Object(l["toDisplayString"])(e),1)],8,ke)})),128))])]),a.product.colors?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Ne,[Ve,(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.product.colors,(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:"mb-3",key:t},[Object(l["createElementVNode"])("div",ve,[e.colorChart?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:0,class:"w-100 colorReveal border border-bottom-0 rounded-top",style:Object(l["normalizeStyle"])({backgroundColor:e.colorChart})},null,4)):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",ye,[Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(["form-group position-relative",e.name?"inputClear":""])},[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"colors"+t,ref:"colors"+t,type:"text",class:Object(l["normalizeClass"])(["form-control",e.colorChart?"colorsName":"name"]),placeholder:"請輸入色名，例如：白色","onUpdate:modelValue":function(t){return e.name=t}},null,10,Be),[[l["vModelText"],e.name]]),e.name?(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{key:0,type:"button",class:"btn-close position-absolute top-50 end-0 translate-middle-y",onClick:function(e){a.product.colors[t].name="",r.clearFocus("colors"+t)}},null,8,xe)):Object(l["createCommentVNode"])("",!0)],2)]),Object(l["createElementVNode"])("div",Ue,[Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(["form-group position-relative",e.colorChart?"inputClear":""])},[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"colorChart"+t,ref:"colorChart"+t,type:"text",class:Object(l["normalizeClass"])(["form-control ",e.colorChart?"colorChart":"chart"]),placeholder:"請輸入色票，例如：#FFFFF","onUpdate:modelValue":function(t){return e.colorChart=t}},null,10,we),[[l["vModelText"],e.colorChart]]),e.colorChart?(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{key:0,type:"button",class:"btn-close position-absolute top-50 end-0 translate-middle-y",onClick:function(e){a.product.colors[t].colorChart="",r.clearFocus("colorChart"+t)}},null,8,Ce)):Object(l["createCommentVNode"])("",!0)],2)])])])})),128)),!a.product.colors.length||Object.keys(a.product.colors[a.product.colors.length-1].name).length||Object.keys(a.product.colors[a.product.colors.length-1].colorChart).length?(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{key:0,type:"button",class:"d-block bg-light border rounded\n                        upfile-wrapper upload d-flex btn-size",onClick:t[7]||(t[7]=function(e){return r.colorsFocus()})},Me)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{key:1,type:"button",class:"d-block bg-light border rounded\n                        upfile-wrapper upload d-flex btn-size",onClick:t[8]||(t[8]=function(e){return a.product.colors.pop()})},Se))])):Object(l["createCommentVNode"])("",!0)])],512),Object(l["createElementVNode"])("section",Le,[Te,Object(l["createElementVNode"])("div",ze,[Object(l["createElementVNode"])("div",$e,[a.product.imageUrl?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:1,class:"border rounded upfile-wrapper",onClick:t[10]||(t[10]=Object(l["withModifiers"])((function(e){return a.product.imageUrl=""}),["prevent"]))},[Object(l["createElementVNode"])("div",Re,[Object(l["createElementVNode"])("img",{class:"img-fluid",src:a.product.imageUrl,alt:""},null,8,Xe)])])):(Object(l["openBlock"])(),Object(l["createElementBlock"])("label",_e,[Object(l["createElementVNode"])("input",{id:"fileInput",type:"file",class:"d-none",ref:"fileInput",onChange:t[9]||(t[9]=function(e){return r.uploadFile("fileInput","imageUrl")})},null,544),Je,Ae])),Object(l["createElementVNode"])("div",qe,[Ge,a.status.fileUploading?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",He)):Object(l["createCommentVNode"])("",!0)])]),a.product.imagesUrl?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.product.imagesUrl,(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:"m-2",key:t},[a.product.imagesUrl[t]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:0,class:"border rounded upfile-wrapper",onClick:Object(l["withModifiers"])((function(e){return a.product.imagesUrl[t]=""}),["prevent"])},[Object(l["createElementVNode"])("div",Qe,[Object(l["createElementVNode"])("img",{class:"img-fluid",src:a.product.imagesUrl[t],alt:""},null,8,We)])],8,Ke)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("label",{key:1,for:"imagesUrl"+t,class:"d-block bg-light border rounded upfile-wrapper upload d-flex"},[Object(l["createElementVNode"])("input",{id:"imagesUrl"+t,type:"file",class:"d-none",ref:"imagesUrl"+t,onChange:function(e){return r.uploadFile("imagesUrl"+t,"imagesUrl",t)}},null,40,Ze),et,tt],8,Ye)),Object(l["createElementVNode"])("div",ct,[Object(l["createTextVNode"])(" 圖片 "+Object(l["toDisplayString"])(t+1)+" ",1),a.status.fileUploading?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",lt)):Object(l["createCommentVNode"])("",!0)])])})),128)),Object(l["createElementVNode"])("div",ot,[!a.product.imagesUrl.length||a.product.imagesUrl[a.product.imagesUrl.length-1]?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[Object(l["createElementVNode"])("button",{type:"button",class:"d-block bg-light border rounded upfile-wrapper upload d-flex",onClick:t[11]||(t[11]=function(e){return a.product.imagesUrl.push("")})},nt),dt],64)):(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:1},[Object(l["createElementVNode"])("button",{type:"button",class:"d-block bg-light border rounded upfile-wrapper upload d-flex",onClick:t[12]||(t[12]=function(e){return a.product.imagesUrl.pop()})},mt),bt],64))])],64)):Object(l["createCommentVNode"])("",!0)])],512),Object(l["createElementVNode"])("section",ut,[pt,Object(l["createElementVNode"])("div",jt,[Object(l["createElementVNode"])("div",Ot,[a.product.modelImageUrl?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:1,class:"border rounded upfile-wrapper",onClick:t[14]||(t[14]=Object(l["withModifiers"])((function(e){return a.product.modelImageUrl=""}),["prevent"]))},[Object(l["createElementVNode"])("div",Et,[Object(l["createElementVNode"])("img",{class:"img-fluid",src:a.product.modelImageUrl,alt:""},null,8,ht)])])):(Object(l["openBlock"])(),Object(l["createElementBlock"])("label",ft,[Object(l["createElementVNode"])("input",{id:"modelImageUrl",type:"file",class:"d-none",ref:"modelImageUrl",onChange:t[13]||(t[13]=function(e){return r.uploadFile("modelImageUrl","modelImageUrl")})},null,544),gt,kt])),Object(l["createElementVNode"])("div",Nt,[Vt,a.status.fileUploading?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",vt)):Object(l["createCommentVNode"])("",!0)])]),a.product.modelImagesUrl?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.product.modelImagesUrl,(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:"m-2",key:t},[a.product.modelImagesUrl[t]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:0,class:"border rounded upfile-wrapper",onClick:Object(l["withModifiers"])((function(e){return a.product.modelImagesUrl[t]=""}),["prevent"])},[Object(l["createElementVNode"])("div",Bt,[Object(l["createElementVNode"])("img",{class:"img-fluid",src:a.product.modelImagesUrl[t],alt:""},null,8,xt)])],8,yt)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("label",{key:1,for:"modelImagesUrl"+t,class:"d-block bg-light border rounded upfile-wrapper upload d-flex"},[Object(l["createElementVNode"])("input",{id:"modelImagesUrl"+t,type:"file",class:"d-none",ref:"modelImagesUrl"+t,onChange:function(e){return r.uploadFile("modelImagesUrl"+t,"modelImagesUrl",t)}},null,40,wt),Ct,It],8,Ut)),Object(l["createElementVNode"])("div",Pt,[Object(l["createTextVNode"])(" 模特展示"+Object(l["toDisplayString"])(t+1)+" ",1),a.status.fileUploading?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",Mt)):Object(l["createCommentVNode"])("",!0)])])})),128)),Object(l["createElementVNode"])("div",Dt,[!a.product.modelImagesUrl.length||a.product.modelImagesUrl[a.product.modelImagesUrl.length-1]?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[Object(l["createElementVNode"])("button",{type:"button",class:"d-block bg-light border rounded upfile-wrapper upload d-flex",onClick:t[15]||(t[15]=function(e){return a.product.modelImagesUrl.push("")})},Lt),Tt],64)):(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:1},[Object(l["createElementVNode"])("button",{type:"button",class:"d-block bg-light border rounded upfile-wrapper upload d-flex",onClick:t[16]||(t[16]=function(e){return a.product.modelImagesUrl.pop()})},_t),Jt],64))])],64)):Object(l["createCommentVNode"])("",!0)])],512),Object(l["createElementVNode"])("section",At,[Rt,Object(l["createElementVNode"])("div",Xt,[a.product.detalImagesUrl?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.product.detalImagesUrl,(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:"m-2",key:t},[a.product.detalImagesUrl[t]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:0,class:"border rounded upfile-wrapper",onClick:Object(l["withModifiers"])((function(e){return a.product.detalImagesUrl[t]=""}),["prevent"])},[Object(l["createElementVNode"])("div",Gt,[Object(l["createElementVNode"])("img",{class:"img-fluid",src:a.product.detalImagesUrl[t],alt:""},null,8,Ht)])],8,qt)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("label",{key:1,for:"detalImagesUrl"+t,class:"d-block bg-light border rounded upfile-wrapper upload d-flex"},[Object(l["createElementVNode"])("input",{id:"detalImagesUrl"+t,type:"file",class:"d-none",ref:"detalImagesUrl"+t,onChange:function(e){return r.uploadFile("detalImagesUrl"+t,"detalImagesUrl",t)}},null,40,Qt),Wt,Yt],8,Kt)),Object(l["createElementVNode"])("div",Zt,[Object(l["createTextVNode"])(" 細節"+Object(l["toDisplayString"])(t+1)+" ",1),a.status.fileUploading?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",ec)):Object(l["createCommentVNode"])("",!0)])])})),128)),Object(l["createElementVNode"])("div",tc,[!a.product.detalImagesUrl.length||a.product.detalImagesUrl[a.product.detalImagesUrl.length-1]?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[Object(l["createElementVNode"])("button",{type:"button",class:"d-block bg-light border rounded upfile-wrapper upload d-flex",onClick:t[17]||(t[17]=function(e){return a.product.detalImagesUrl.push("")})},oc),ac],64)):(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:1},[Object(l["createElementVNode"])("button",{type:"button",class:"d-block bg-light border rounded upfile-wrapper upload d-flex",onClick:t[18]||(t[18]=function(e){return a.product.detalImagesUrl.pop()})},dc),sc],64))])],64)):Object(l["createCommentVNode"])("",!0)])],512),Object(l["createElementVNode"])("section",ic,[mc,Object(l["createElementVNode"])("div",bc,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.productInformation,(function(e,c){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:"m-2",key:c},[a.product[e.ref]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:1,class:"border rounded upfile-wrapper",onClick:Object(l["withModifiers"])((function(t){return a.product[e.ref]=""}),["prevent"])},[Object(l["createElementVNode"])("div",gc,[Object(l["createElementVNode"])("img",{class:"img-fluid",src:a.product[e.ref],alt:""},null,8,kc)])],8,fc)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("label",{key:0,for:e.ref,class:"d-block bg-light border rounded upfile-wrapper upload\n                  d-flex"},[Object(l["createElementVNode"])("input",{id:e.ref,type:"file",class:"d-none",ref:e.ref,onChange:t[19]||(t[19]=function(e){return r.uploadFile("item.ref","item.ref")})},null,40,pc),jc,Oc],8,uc)),Object(l["createElementVNode"])("div",Ec,[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.name)+" ",1),a.status.fileUploading?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",hc)):Object(l["createCommentVNode"])("",!0)])])})),128))])],512),Object(l["createElementVNode"])("section",Nc,[Vc,Object(l["createElementVNode"])("div",vc,[Object(l["createElementVNode"])("div",yc,[Object(l["createElementVNode"])("label",Bc,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"isEnabled1",class:"form-check-input",type:"radio","onUpdate:modelValue":t[20]||(t[20]=function(e){return a.product.is_enabled=e}),value:"1"},null,512),[[l["vModelRadio"],a.product.is_enabled]]),xc]),Object(l["createElementVNode"])("label",Uc,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"isEnabled0",class:"form-check-input",type:"radio","onUpdate:modelValue":t[21]||(t[21]=function(e){return a.product.is_enabled=e}),value:"0"},null,512),[[l["vModelRadio"],a.product.is_enabled]]),wc])])])],512)],512),Object(l["createElementVNode"])("div",Cc,[Ic,Object(l["createElementVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[22]||(t[22]=function(t){return e.$emit("update-product",n.product)})}," 確認 ")])])])],512)}var Mc=c("e0ae"),Dc={mixins:[Mc["a"]],inject:["httpMessageState"],emits:["update-product"],props:{tempProduct:{default:function(){return{imagesUrl:[]}}},isNew:{type:Boolean,default:!1}},data:function(){return{waitProcess:!1,status:{},product:{},category:["上衣","裙裝","褲裝","配飾","套裝","新品"],unit:["套","件"],clothSize:["S","M","L","XL","F"],productInformation:[{name:"款號",ref:"infolImageUrl"},{name:"尺碼",ref:"sizeImageUrl"},{name:"模特",ref:"modelInfoImageUrl"},{name:"試穿",ref:"tryOnImageUrl"},{name:"面料",ref:"tabricImageUrl"}],nav:[{name:"基本資訊",ref:"basic"},{name:"銷售",ref:"sales"},{name:"商品圖",ref:"productPicture"},{name:"展示圖",ref:"modelPicture"},{name:"商品細節",ref:"productDetail"},{name:"詳細資訊",ref:"productInformation"},{name:"上架狀態",ref:"isEnabled"}]}},watch:{tempProduct:function(){var e=this;this.product=JSON.parse(JSON.stringify(this.tempProduct));var t=["imageUrl","unit","category","modelImageUrl","infolImageUrl","sizeImageUrl","modelInfoImageUrl","tabricImageUrl","tryOnImageUrl"],c=["imagesUrl","clothSize","colors","modelImagesUrl","detalImagesUrl"];t.forEach((function(t){e.product[t]||(e.product[t]="")})),c.forEach((function(t){e.product[t]||(e.product[t]=[])})),this.product.is_enabled||(this.product.is_enabled=1)}},methods:{uploadFile:function(e,t,c){var l=this,o=this.$refs[e].files[0],a=new FormData;a.append("file-to-upload",o);var r="".concat("https://vue3-course-api.hexschool.io/","api/").concat("haohao","/admin/upload");this.status.fileUploading=!0;var n="圖片上傳";this.$http.post(r,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(o){l.status.fileUploading=!1,o.data.success?(c||0===c?l.product[t][c]=o.data.imageUrl:l.product[t]=o.data.imageUrl,l.$refs[e].value="",l.httpMessageState(o,n)):(l.$refs[e].value="",l.httpMessageState(o,n))}))},colorsFocus:function(){this.product.colors.push({name:"",colorChart:""}),this.waitProcess=!0},subNav:function(e){this.$refs.modalBody.scrollTo(0,this.$refs[e].offsetTop-24)},clearFocus:function(e){this.$refs[e].focus()}},updated:function(){this.waitProcess&&(this.$refs["colors".concat(this.product.colors.length-1)].focus(),this.waitProcess=!1)}};Dc.render=Pc;var Fc=Dc,Sc={components:{DelModal:C["a"],Pagination:I["a"],ProductModal:Fc},inject:["httpMessageState"],data:function(){return{isLoading:!1,products:[],pagination:[],currentPage:1,isNew:!1,tempProduct:{imagesUrl:[]}}},methods:{getData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0,this.currentPage=t;var c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("haohao","/admin/products?page=").concat(t);this.$http.get(c).then((function(t){e.products=t.data.products,e.pagination=t.data.pagination,e.isLoading=!1}))},openModal:function(e,t){"create"===e?(this.tempProduct={imagesUrl:[]},this.isNew=!0,this.$refs.ProductModal.openModal()):"edit"===e?(this.tempProduct=Object(w["a"])({},this.products[t]),this.isNew=!1,this.$refs.ProductModal.openModal()):"delete"===e&&(this.tempProduct=Object(w["a"])({},this.products[t]),this.$refs.DelModal.openModal())},updateProduct:function(e){var t=this;this.isLoading=!0,this.tempProduct=e,this.tempProduct.imagesUrl=this.tempProduct.imagesUrl.filter(Boolean),this.tempProduct.modelImagesUrl=this.tempProduct.modelImagesUrl.filter(Boolean),this.tempProduct.detalImagesUrl=this.tempProduct.detalImagesUrl.filter(Boolean);var c=["S","M","L","XL","F"];this.tempProduct.clothSize=c.filter((function(e){return-1!==t.tempProduct.clothSize.indexOf(e)}));var l=[];this.tempProduct.colors.forEach((function(e){(Object.keys(e.name).length||Object.keys(e.colorChart).length)&&l.push(e)})),this.tempProduct.colors=l;var o="".concat("https://vue3-course-api.hexschool.io/","api/").concat("haohao","/admin/product"),a="post",r="新增產品";this.isNew||(o="".concat("https://vue3-course-api.hexschool.io/","api/").concat("haohao","/admin/product/").concat(this.tempProduct.id),a="put",r="更新產品");var n=this.$refs.ProductModal;this.$http[a](o,{data:this.tempProduct}).then((function(e){e.data.success?(t.getData(t.currentPage),t.isLoading=!1,n.hideModal(),t.httpMessageState(e,r)):(t.isLoading=!1,t.httpMessageState(e,r))}))},deleteProduct:function(){var e=this;this.isLoading=!0;var t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("haohao","/admin/product/").concat(this.tempProduct.id);this.$http.delete(t).then((function(t){e.getData(e.currentPage),e.isLoading=!1,e.httpMessageState(t,"刪除產品");var c=e.$refs.DelModal;c.hideModal()}))}},created:function(){this.getData()}};Sc.render=U;t["default"]=Sc}}]);
//# sourceMappingURL=chunk-2d0ba4cc.7837da7f.js.map